<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã´ã“ã‚¯ãƒªãƒƒãƒ— - å‹•ç”»å†ç”Ÿç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap');
        body { font-family: 'Zen+Maru+Gothic', sans-serif; background-color: #fce7f3; }
        
        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–¢é€£ */
        .page { display: none; min-height: 100vh; flex-direction: column; opacity: 0; transition: opacity 0.3s ease; }
        .page.active { display: flex; opacity: 1; animation: slideUpFade 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
        @keyframes slideUpFade { 0% { transform: translateY(20px); opacity: 0; } 100% { transform: translateY(0); opacity: 1; } }
        
        .stagger-item { opacity: 0; transform: translateY(10px); }
        .page.active .stagger-item { animation: fadeInUp 0.5s ease forwards; }
        .page.active .stagger-item:nth-child(1) { animation-delay: 0.1s; }
        .page.active .stagger-item:nth-child(2) { animation-delay: 0.2s; }
        .page.active .stagger-item:nth-child(3) { animation-delay: 0.3s; }
        @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }

        .bouncy-btn:active { transform: scale(0.95); transition: 0.1s; }
        .nav-item.active { color: #ec4899; transform: translateY(-5px); }
        
        /* éŸ³ç¬¦ã‚¢ã‚¤ã‚³ãƒ³ */
        .note-icon { transition: all 0.2s; cursor: pointer; fill: #e5e7eb; }
        .note-icon.active { fill: #ec4899; filter: drop-shadow(0 0 5px rgba(236, 72, 153, 0.5)); transform: scale(1.2); }
        .bounce-in { animation: bounceIn 0.5s; }
        @keyframes bounceIn { 0% { transform: scale(0.3); opacity: 0; } 50% { transform: scale(1.1); } 100% { transform: scale(1); opacity: 1; } }
        
        .hide-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="flex justify-center items-start">

    <div class="w-full max-w-md bg-white min-h-screen shadow-2xl relative flex flex-col overflow-hidden">
        
        <div id="page-home" class="page active pb-24">
            <div class="p-4 border-b bg-white/90 backdrop-blur-md sticky top-0 z-10 flex justify-between items-center">
                <div class="w-8"></div>
                <h1 class="text-pink-500 font-black text-lg tracking-wider">PicoClip</h1>
                <button class="text-gray-400 bouncy-btn">ğŸ””</button>
            </div>

            <div class="overflow-y-auto hide-scrollbar">
                <div class="aspect-video bg-black relative mb-4 stagger-item shadow-lg">
                     <iframe id="main-player" class="w-full h-full" src="https://www.youtube.com/embed/L_LUpnjgPso?rel=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>

                <div class="px-6 pb-6">
                    <div class="stagger-item">
                        <div class="flex items-center gap-2 mb-2">
                            <span class="bg-red-500 text-white text-[10px] px-2 py-0.5 rounded-full font-bold">YouTube</span>
                            <span class="text-xs text-gray-400">@chill_camp</span>
                        </div>
                        <h2 id="video-title" class="text-xl font-bold mb-4 text-gray-800 leading-snug">æœ€é«˜ã®ç„šãç«éŸ³ã§ç™’ã‚„ã•ã‚Œã‚‹å¤œ...ğŸ”¥</h2>
                    </div>

                    <div class="bg-pink-50 rounded-3xl p-5 text-center mb-6 stagger-item border border-pink-100 shadow-sm">
                        <p class="text-xs font-bold text-gray-400 mb-3">ã‚ãªãŸã®ã€Œã´ã“ã‚“ï¼ã€åº¦ã¯ï¼Ÿ</p>
                        <div class="flex justify-center gap-2 mb-4">
                            <svg onclick="rateHome(1)" class="note-icon w-9 h-9" viewBox="0 0 24 24"></svg>
                            <svg onclick="rateHome(2)" class="note-icon w-9 h-9" viewBox="0 0 24 24"></svg>
                            <svg onclick="rateHome(3)" class="note-icon w-9 h-9" viewBox="0 0 24 24"></svg>
                            <svg onclick="rateHome(4)" class="note-icon w-9 h-9" viewBox="0 0 24 24"></svg>
                            <svg onclick="rateHome(5)" class="note-icon w-9 h-9" viewBox="0 0 24 24"></svg>
                        </div>
                        <div id="home-rating-label" class="h-6 mb-3"><span class="text-gray-300 text-xs font-bold">ã‚¿ãƒƒãƒ—ã—ã¦è©•ä¾¡</span></div>
                        <button id="home-submit-btn" disabled onclick="submitRating()" class="w-full bg-gray-100 text-gray-400 font-bold py-3 rounded-xl transition-all shadow-none bouncy-btn">è©•ä¾¡ã‚’é€ã‚‹ âœ¨</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="page-rank" class="page pb-24 bg-gray-50">
            <div class="p-4 bg-white sticky top-0 z-10 shadow-sm text-center">
                <h1 class="text-pink-500 font-black text-lg">ä»Šé€±ã®ãƒˆãƒ¬ãƒ³ãƒ‰</h1>
            </div>
            
            <div class="p-4 space-y-4 overflow-y-auto hide-scrollbar">
                
                <div onclick="playVideo('C5R0bIqF-oU', 'ç•™å®ˆç•ªä¸­ã®çŒ«ãŒå®Ÿã¯...ğŸˆ', true)" class="stagger-item bg-white p-4 rounded-3xl shadow-md border-2 border-yellow-200 relative overflow-hidden cursor-pointer active:scale-95 transition-transform">
                    <div class="absolute -right-4 -top-4 bg-yellow-300 w-16 h-16 rounded-full opacity-20"></div>
                    <div class="absolute top-0 left-0 bg-yellow-400 text-white font-black px-3 py-1 rounded-br-2xl text-sm z-10">1ä½</div>
                    
                    <div class="flex items-start gap-4 mt-2">
                        <div class="w-20 h-28 bg-gray-800 rounded-xl overflow-hidden relative shadow-md">
                            <img src="https://i.ytimg.com/vi/C5R0bIqF-oU/hqdefault.jpg" class="w-full h-full object-cover">
                            <div class="absolute inset-0 flex items-center justify-center text-white text-2xl">â–¶</div>
                        </div>

                        <div class="flex-1 py-1">
                            <h3 class="font-bold text-gray-800 text-lg mb-1 leading-tight">ç•™å®ˆç•ªä¸­ã®çŒ«ãŒå®Ÿã¯...ğŸˆ</h3>
                            <div class="flex items-center gap-2 mb-2">
                                <span class="bg-black text-white text-[9px] px-1.5 py-0.5 rounded font-bold">Shorts</span>
                                <span class="text-xs text-gray-400">@AaronsAnimals</span>
                            </div>
                            <div class="flex items-baseline gap-1">
                                <span class="text-pink-500 font-black text-2xl">â™ª4.9</span>
                                <span class="text-[10px] text-gray-400">10k è©•ä¾¡</span>
                            </div>
                            <p class="text-[10px] text-pink-400 font-bold mt-2">ğŸ‘‡ ã‚¿ãƒƒãƒ—ã—ã¦å†ç”Ÿï¼</p>
                        </div>
                    </div>
                </div>

                <div onclick="playVideo('rTxZ_p8d6m0', 'çµ¶å¯¾å¤±æ•—ã—ãªã„ãƒ‘ãƒ³ã‚±ãƒ¼ã‚­ğŸ¥')" class="stagger-item bg-white p-3 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 bouncy-btn cursor-pointer">
                    <div class="text-2xl font-bold text-gray-400 w-6 text-center">2</div>
                    <div class="w-16 h-12 bg-gray-200 rounded-lg overflow-hidden relative">
                         <img src="https://i.ytimg.com/vi/rTxZ_p8d6m0/mqdefault.jpg" class="w-full h-full object-cover">
                    </div>
                    <div class="flex-1">
                        <h3 class="font-bold text-gray-700 text-sm">çµ¶å¯¾å¤±æ•—ã—ãªã„ãƒ‘ãƒ³ã‚±ãƒ¼ã‚­ğŸ¥</h3>
                        <span class="text-pink-400 font-bold text-sm">â™ª4.8</span>
                    </div>
                </div>

                <div onclick="playVideo('jfKfPfyJRdk', 'å‹‰å¼·ç”¨BGM - Lofi Hip Hop ğŸ“š')" class="stagger-item bg-white p-3 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 bouncy-btn cursor-pointer">
                    <div class="text-2xl font-bold text-gray-400 w-6 text-center">3</div>
                    <div class="w-16 h-12 bg-gray-200 rounded-lg overflow-hidden relative">
                        <img src="https://i.ytimg.com/vi/jfKfPfyJRdk/mqdefault.jpg" class="w-full h-full object-cover">
                    </div>
                    <div class="flex-1">
                        <h3 class="font-bold text-gray-700 text-sm">å‹‰å¼·ç”¨BGM - Lofi Hip Hop ğŸ“š</h3>
                        <span class="text-pink-400 font-bold text-sm">â™ª4.6</span>
                    </div>
                </div>
            </div>
        </div>

        <div id="page-post" class="page pb-24 bg-white">
            <div class="p-4 border-b flex justify-between items-center">
                <button class="text-gray-400 font-bold text-sm bouncy-btn">æˆ»ã‚‹</button>
                <h1 class="text-gray-800 font-bold">æ–°è¦æŠ•ç¨¿</h1>
                <button class="text-pink-500 font-bold text-sm bouncy-btn">æŠ•ç¨¿</button>
            </div>
            
            <div class="p-6 space-y-6">
                <div class="stagger-item space-y-2">
                    <label class="text-xs font-bold text-gray-500">å‹•ç”»ã®URL (YouTube)</label>
                    <input type="text" id="url-input" oninput="checkUrl()" placeholder="ä¾‹: https://youtu.be/..." class="w-full p-4 bg-gray-50 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-pink-300 transition-all">
                </div>

                <div id="preview-area" class="stagger-item aspect-video bg-pink-50 rounded-2xl border-2 border-dashed border-pink-200 flex flex-col items-center justify-center text-pink-300 overflow-hidden relative">
                    <div id="preview-placeholder" class="text-center">
                        <span class="text-3xl mb-2 block">ğŸ“¥</span>
                        <span class="text-xs font-bold">URLã‚’è²¼ã‚‹ã¨å‹•ç”»ãŒå‡ºã‚‹ã‚ˆ</span>
                    </div>
                    <iframe id="preview-frame" class="w-full h-full hidden" src="" frameborder="0"></iframe>
                </div>

                <div class="stagger-item">
                    <label class="text-xs font-bold text-gray-500 block mb-2">ãŠã™ã™ã‚åº¦</label>
                    <div class="flex justify-between gap-2">
                        <button class="flex-1 py-2 rounded-xl border border-gray-200 text-gray-400 font-bold hover:bg-pink-50 hover:text-pink-500 transition bouncy-btn">â™ª1</button>
                        <button class="flex-1 py-2 rounded-xl border border-gray-200 text-gray-400 font-bold hover:bg-pink-50 hover:text-pink-500 transition bouncy-btn">â™ª3</button>
                        <button class="flex-1 py-2 rounded-xl bg-pink-500 text-white font-bold shadow-md bouncy-btn">â™ª5</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-white/95 backdrop-blur border-t border-gray-100 py-2 px-8 flex justify-between items-end sticky bottom-0 z-30 h-20 pb-6 rounded-t-3xl shadow-[0_-5px_20px_rgba(0,0,0,0.03)] w-full max-w-md absolute">
            <button onclick="showPage('home')" id="nav-home" class="nav-item active flex flex-col items-center w-16 bouncy-btn"><span class="text-2xl mb-1">ğŸ </span><span class="text-[10px] font-bold">ãƒ›ãƒ¼ãƒ </span></button>
            <button onclick="showPage('post')" id="nav-post" class="nav-item flex flex-col items-center w-16 bouncy-btn relative group">
                <div class="absolute -top-10 bg-gradient-to-tr from-pink-500 to-pink-400 text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg shadow-pink-200 group-hover:scale-110 transition-transform duration-300"><span class="text-2xl font-bold pb-1">ï¼‹</span></div>
                <span class="text-[10px] font-bold mt-5 text-gray-400 group-hover:text-pink-500">æŠ•ç¨¿</span>
            </button>
            <button onclick="showPage('rank')" id="nav-rank" class="nav-item flex flex-col items-center w-16 bouncy-btn"><span class="text-2xl mb-1">ğŸ‘‘</span><span class="text-[10px] font-bold">ãƒ©ãƒ³ã‚¯</span></button>
        </div>
    </div>

    <script>
        // === ç”»é¢åˆ‡ã‚Šæ›¿ãˆ ===
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById('page-' + pageId).classList.add('active');
            const nav = document.getElementById('nav-' + pageId);
            if(nav) nav.classList.add('active');
        }

        // === å‹•ç”»å†ç”Ÿæ©Ÿèƒ½ (é‡è¦ï¼) ===
        function playVideo(videoId, title, isVertical = false) {
            // 1. ãƒ›ãƒ¼ãƒ ç”»é¢ã«ç§»å‹•
            showPage('home');
            
            // 2. ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®URLã‚’æ›¸ãæ›ãˆ
            const player = document.getElementById('main-player');

            // è‡ªå‹•å†ç”Ÿã‚’ã‚ªãƒ•ã«ã™ã‚‹ï¼ˆã‚¯ãƒªãƒƒã‚¯ã—ã¦æ‰‹å‹•ã§å†ç”Ÿã•ã›ã‚‹ï¼‰
            player.src = `https://www.youtube.com/embed/${videoId}?rel=0`;
            
            // 3. ã‚¿ã‚¤ãƒˆãƒ«å¤‰æ›´
            document.getElementById('video-title').innerText = title;

            // 4. ç¸¦å‹å‹•ç”»ã®å ´åˆã¯ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‚’å¤‰ãˆã‚‹ï¼ˆTikToké¢¨ï¼‰
            const container = player.parentElement;
            if(isVertical) {
                container.classList.remove('aspect-video');
                container.classList.add('aspect-[9/16]');
            } else {
                container.classList.add('aspect-video');
                container.classList.remove('aspect-[9/16]');
            }
        }

        // === æŠ•ç¨¿ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½ ===
        function checkUrl() {
            const input = document.getElementById('url-input').value;
            const placeholder = document.getElementById('preview-placeholder');
            const frame = document.getElementById('preview-frame');
            
            // YouTubeã®IDã‚’æŠ½å‡ºã™ã‚‹é­”æ³•ã®å‘ªæ–‡ï¼ˆæ­£è¦è¡¨ç¾ï¼‰
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = input.match(regExp);

            if (match && match[2].length === 11) {
                // IDãŒè¦‹ã¤ã‹ã£ãŸã‚‰è¡¨ç¤º
                const videoId = match[2];
                placeholder.classList.add('hidden');
                frame.classList.remove('hidden');
                frame.src = `https://www.youtube.com/embed/${videoId}`;
            } else {
                // ç„¡åŠ¹ãªURLãªã‚‰éš ã™
                placeholder.classList.remove('hidden');
                frame.classList.add('hidden');
            }
        }

        // === è©•ä¾¡ãƒ­ã‚¸ãƒƒã‚¯ ===
        const notePath = '<path stroke="none" d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>';
        document.querySelectorAll('.note-icon').forEach(n => n.innerHTML = notePath);
        const labels = ["ã†ãƒ¼ã‚“... ã„ã¾ã„ã¡ ğŸ¤”", "ã¾ã‚ã¾ã‚ã‹ãª ğŸ™‚", "ãµã¤ã†ã«è‰¯ã„ï¼ ğŸ‘", "ã“ã‚Œã¯ãŠã™ã™ã‚ï¼ âœ¨", "ç¥å‹•ç”»ã‚­ã‚¿ã‚³ãƒ¬ï¼ï¼ ğŸ‘‘"];
        let currentScore = 0;
        function rateHome(score) {
            currentScore = score;
            const icons = document.querySelectorAll('#page-home .note-icon');
            icons.forEach((icon, index) => index < score ? icon.classList.add('active') : icon.classList.remove('active'));
            document.getElementById('home-rating-label').innerHTML = `<span class="text-pink-500 font-bold text-sm bounce-in">${labels[score - 1]}</span>`;
            const btn = document.getElementById('home-submit-btn');
            btn.disabled = false;
            btn.className = "w-full bg-pink-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg shadow-pink-200 hover:bg-pink-600 active:scale-95 bouncy-btn";
        }
        function submitRating() {
            if(currentScore > 0) {
                alert(`â™ª${currentScore} ã§è©•ä¾¡ã—ã¾ã—ãŸï¼\nã´ã“ã‚“ï¼âœ¨`);
                const btn = document.getElementById('home-submit-btn');
                btn.innerText = "é€ä¿¡å®Œäº†ï¼";
                btn.className = "w-full bg-green-500 text-white font-bold py-3 rounded-xl shadow-lg shadow-green-200 bouncy-btn";
                btn.disabled = true;
            }
        }
    </script>
</body>
</html>